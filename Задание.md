# Описание проекта

“Картошка” - это отечественный электронный кошелек, который позволяет делать денежные переводы в рамках системы.
Ваша задача написать серверную часть, удовлетворяющую предложенному техническому заданию.

# Дополнительно

В задание ниже вы можете использовать идентификатор пользователя, для определения инициатора вызова метода. Дополнительное задание подразумевает наличие авторизации в системе и определения пользователя по его сессии.

# Подсказки

- При работе с ISO не изобретайте велосипед, используйте org.springframework.format.annotation.DateTimeFormat.ISO.*

# Типы данных

## Пользователь
Основные поля пользователя:
- Фамилия
- Имя
- Отчество (опционально)
- Номер мобильного телефона
- Адрес электронной почты
- Дата рождения
- Пароль

ФИО допускается только буквы русского алфавита. Первые буквы - заглавные. Не более 50 символов по отдельности.
Номер мобильного телефона - Формат телефона: 11 цифр, начинается с '7'
К номеру телефона может быть привязан только один пользователь.
Адрес электронной почты - стандартная маска. К электронной почте может быть привязан только один пользователь.
Дата рождения - дата в ISO 8601
Особые требования к паролю:

- от 8 до 64 символов
- Только латинские символы, цифры, знаки только !?
- Обязательно наличие минимум 1 буквы верхнего и нижнего регистра, цифры и знака.
- Хранение исключительно в БД, в хешированном виде, алгоритм - на усмотрение разработки.

К требованиям хранения пользователей относится хранение временной метки (timestamp) создания и обновления полей
пользователя.

## Кошелёк
Кошельком владеет только один пользователь.
Изначально каждый пользователь имеет 100 денежных единиц(далее д.е.) в кошельке.
Основные поля кошелька:

- Номер - целое число.
- Баланс, в д.е. - целое число, больше или равно нулю.

## Денежный перевод
Основные поля денежного перевода:

- Дата и время перевода
- Сумма

К требованиям хранения переводов относится хранение временной метки (timestamp) создания переводов.

## Сессия (Опциональный раздел)
- Дата создания сессии
- Токен
- Индентификатор пользователя
- Признак активности
- Время жизни

Сессия принадлежит только одному пользователю.

# Методы
## Пользователь

- Создание пользователя
- Получение пользователя
- Редактирование полей пользователя (только ФИО, дата рождения)

В системе нельзя редактировать профиль другого человека. При получении информации о пользователе владельцу аккаунта возвращается вся информация, за исключением  пароля. При запросе информации о другом пользователе возвращается безопасная информация. Подумайте, что стоит возвращать, а что нет.

Пользователя запрещено удалять из БД

## Кошелёк

- Получение информации о кошельке

### Дополнительно (необязательные требования)

Реализовать функционал рулетки (дополнительный эндпоинт):

- HESOYAM: с 25% шансом пользователь получает на счёт 10 д.е.

## Денежный перевод
- Получение информации о переводе
- Создание (оно же выполнение) денежного перевода по номеру телефону/кошелька
- Получение истории переводов: требуется возможность фильтрации по: типу (входящий/исходящий), пользователю-получателю

Перевод совершается в д.е. Выполняется сразу после его создания. Пользователь может совершить перевод в д.е. не более, чем есть у него в кошельке.

## Сессия
- Создание сессии (вход в аккаунт)
- Получение информации о сессии
- Выход из сессии (выход из аккаунта)

Пользователь имеет неограниченное число сессий.
Сессии имеет ограниченный срок действия.
В БД необходимо хранить все сессии: активные и "протухшие" по времени или выходу из сессии

### Дополнительно (необязательные требования)

Время жизни сессии можно настроить при перезапуске приложения